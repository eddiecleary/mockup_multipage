{"version":3,"sources":["src/js/main.js"],"names":["vw","window","vh","objectWidth","ref","xlBreakpoint","lgBreakpoint","subMenu","nav","navBtn","setTimeout","console","modal","document","header","modalTrigger","scrollWrap","getElementById","scrollStage","calcDynamicHeight","style","sticky","offsetTop","classList","closeMenu","once","target","closest","el","e"],"mappings":"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","file":"main.js","sourcesContent":["const nav = document.getElementById('nav');\r\nconst header = document.getElementById('header');\r\nconst navBtn = document.getElementById('navBtn');\r\nconst subMenu = document.getElementById('dropdown-trigger');\r\nconst modalTrigger = document.querySelectorAll('.modalTrigger');\r\nconst modal = document.getElementById('modal');\r\nconst scrollWrap = document.querySelector('.scroll-wrap');\r\nconst scrollStage = document.querySelector('.scroll-stage');\r\n\r\nconst lgBreakpoint = window.matchMedia(\"(min-width: 992px)\");\r\nconst xlBreakpoint = window.matchMedia(\"(min-width: 1300px)\");\r\n\r\n// Horizontal scroll on books section\r\nscrollWrap.style.height = `${calcDynamicHeight(scrollStage)}px`;\r\n\r\nwindow.addEventListener('scroll', () => {\r\n  const sticky = document.querySelector('.sticky');\r\n\r\n  if (lgBreakpoint.matches) {\r\n    // scrollStage.style.transform = `translateX(-${sticky.offsetTop}px)`;\r\n    scrollStage.style.transform = `translateX(-${sticky.offsetTop}px)`;\r\n  } else {\r\n    scrollStage.style.transform = 'initial';\r\n  }\r\n});\r\n\r\nwindow.addEventListener('resize', () => {\r\n\r\n  if (lgBreakpoint.matches) {\r\n    scrollWrap.style.height = `${calcDynamicHeight(scrollStage)}px`;\r\n  } else {\r\n    scrollWrap.style.height = 'auto';\r\n  }\r\n});\r\n\r\nfunction calcDynamicHeight(ref) {\r\n  const vw = window.innerWidth;\r\n  const vh = window.innerHeight;\r\n  const objectWidth = ref.scrollWidth;\r\n\r\n  if (xlBreakpoint.matches) {\r\n    return objectWidth - vw + vh + 1100;\r\n  } else if (lgBreakpoint.matches) {\r\n    return objectWidth - vw + vh + 100;\r\n  }\r\n}\r\n\r\n// Open Nav from Hamburger\r\nnavBtn.addEventListener('click', function(){\r\n\r\n  if (!nav.classList.contains('expanded')) {\r\n    nav.classList.add('expanded');\r\n    navBtn.classList.add('is-active');\r\n\r\n    subMenu.addEventListener('mouseover', openSubMenu, {\r\n      once: true\r\n    });\r\n\r\n    // Close entire menu when hover out\r\n    header.addEventListener('mouseleave', closeMenu, {\r\n      once: true\r\n    });\r\n  } else {\r\n    closeMenu();\r\n  }\r\n});\r\n\r\nfunction openSubMenu() {\r\n  subMenu.classList.add('expanded');\r\n}\r\n\r\n// Open modal for all elements with .modalTrigger class\r\nmodalTrigger.forEach(el => el.addEventListener('click', toggleModal));\r\n\r\n// Close modal\r\nmodal.addEventListener('click', function(e) {\r\n  if (!e.target.closest('.modal-inner')) {\r\n    modal.classList.remove('shown');\r\n  }\r\n});\r\n\r\n// Close modal on escape keypress\r\ndocument.addEventListener('keydown', function(e) {\r\n  if (e.key === 'Escape' && modal.classList.contains('shown')) {\r\n    modal.classList.remove('shown');\r\n  }\r\n});\r\n\r\n// Close menu + reset hamburger to original state\r\nfunction closeMenu() {\r\n\r\n  if(nav.classList.contains('expanded')) {\r\n    nav.style.opacity = \"0\";\r\n    nav.style.pointerEvents = 'none';\r\n    navBtn.classList.remove('is-active');\r\n    subMenu.classList.remove('expanded');\r\n    \r\n    setTimeout(function() {\r\n      nav.classList.remove('expanded');\r\n      nav.style.opacity = \"\";\r\n      nav.style.pointerEvents = '';\r\n    }, 650);\r\n  }\r\n  // subMenu.classList.remove('expanded');\r\n  // nav.classList.remove('expanded');\r\n  // navBtn.classList.remove('is-active');\r\n}\r\n\r\nfunction toggleModal() {\r\n  console.log('clicked');\r\n  modal.classList.toggle('shown');\r\n}\r\n"]}